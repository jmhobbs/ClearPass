jQuery(document).ready(function(a){Gritter={fade_speed:2000,timer_stay:6000,_custom_timer:0,_item_count:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(g,j,d,i,c){this.verifyWrapper();var h=this._tpl_item;this._item_count++;this._custom_timer=0;if(c){this._custom_timer=c}var b=(d!="")?'<img src="'+d+'" class="gritter-image" />':"";var f=(d!="")?"gritter-with-image":"gritter-without-image";h=this.str_replace(["[[username]]","[[text]]","[[image]]","[[number]]","[[class_name]]"],[g,j,b,this._item_count,f],h);a("#gritter-notice-wrapper").append(h);var k=a("#gritter-item-"+this._item_count);var e=this._item_count;k.fadeIn();if(!i){this.setFadeTimer(k,e)}a(k).hover(function(){if(!i){Gritter.restoreItemIfFading(this,e)}Gritter.hoveringItem(this)},function(){if(!i){Gritter.setFadeTimer(this,e)}Gritter.unhoveringItem(this)});return e},countRemoveWrapper:function(){if(a(".gritter-item-wrapper").length==0){a("#gritter-notice-wrapper").remove()}},fade:function(b){a(b).animate({opacity:0},Gritter.fade_speed,function(){a(b).animate({height:0},300,function(){a(b).remove();Gritter.countRemoveWrapper()})})},hoveringItem:function(b){a(b).addClass("hover");if(a(b).find("img").length){a(b).find("img").before(this._tpl_close)}else{a(b).find("span").before(this._tpl_close)}a(b).find(".gritter-close").click(function(){Gritter.remove(this)})},remove:function(b){a(b).parents(".gritter-item-wrapper").fadeOut("medium",function(){a(this).remove()});this.countRemoveWrapper()},removeSpecific:function(f,d){var c=a("#gritter-item-"+f);if(typeof(d)==="object"){if(d.fade){var b=this.fade_speed;if(d.speed){b=d.speed}c.fadeOut(b)}}else{c.remove()}this.countRemoveWrapper()},restoreItemIfFading:function(c,b){window.clearTimeout(Gritter["_int_id_"+b]);a(c).stop().css({opacity:1})},setFadeTimer:function(d,c){var b=(this._custom_timer)?this._custom_timer:this.timer_stay;Gritter["_int_id_"+c]=window.setTimeout(function(){Gritter.fade(d)},b)},stop:function(){a("#gritter-notice-wrapper").fadeOut(function(){a(this).remove()})},str_replace:function(u,d,n,m){var h=0,g=0,q="",l="",e=0,p=0,k=[].concat(u),b=[].concat(d),t=n,c=b instanceof Array,o=t instanceof Array;t=[].concat(t);if(m){this.window[m]=0}for(h=0,e=t.length;h<e;h++){if(t[h]===""){continue}for(g=0,p=k.length;g<p;g++){q=t[h]+"";l=c?(b[g]!==undefined?b[g]:""):b[0];t[h]=(q).split(k[g]).join(l);if(m&&t[h]!==q){this.window[m]+=(q.length-t[h].length)/k[g].length}}}return o?t:t[0]},unhoveringItem:function(b){a(b).removeClass("hover");a(b).find(".gritter-close").remove()},verifyWrapper:function(){if(a("#gritter-notice-wrapper").length==0){a("body").append(this._tpl_wrap)}}};a.gritter={};a.gritter.add=function(c){try{if(!c.title||!c.text){throw"Missing_Fields"}}catch(b){if(b=="Missing_Fields"){alert('Gritter Error: You need to fill out the first 2 params: "title" and "text"')}}var d=Gritter.add(c.title,c.text,c.image||"",c.sticky||false,c.time||"");return d};a.gritter.remove=function(c,b){Gritter.removeSpecific(c,b||"")};a.gritter.removeAll=function(){Gritter.stop()}});
